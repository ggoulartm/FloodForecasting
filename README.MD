# üåä FloodForecastingMVP

**MVP de Pr√©vision des Inondations pour les Alpes du Nord**

Ce projet fournit une interface web permettant de consulter les donn√©es hydrom√©triques historiques et en temps r√©el, et de g√©n√©rer des pr√©visions de d√©bit avec diff√©rents algorithmes (tendance simple, moyenne mobile, r√©gression lin√©aire).

## üöÄ Fonctionnalit√©s

- Recherche et s√©lection de sites hydrom√©triques (Is√®re & Savoie)
- Affichage des donn√©es horaires (24 h) et journali√®res (30 jours)
- Pr√©visions sur 24 h avec bornes min/max d'incertitude
- S√©lection d'algorithmes de pr√©vision en temps r√©el
- Interface responsive (desktop/mobile)

## üõ† Tech Stack

- Backend : Python 3.11, Flask, Flask-CORS, Flask-SQLAlchemy, SQLite
- Frontend : React 18, Vite, Recharts, Tailwind CSS
- Environnement : Conda (Python, Node.js), pip, npm

## Pr√©requis

- Git
- [Conda](https://docs.conda.io/) (ou Anaconda/Miniconda)
- Node.js & npm (install√©s via Conda ou depuis nodejs.org)

## Installation

1. Cloner le d√©p√¥t :
   ```cmd
   git clone https://github.com/your-org/FloodForecastingMVP.git
   cd FloodForecastingMVP
   ```

2. Cr√©er l'environnement Conda :
   ```cmd
   conda env create -f environment.yml
   conda activate FloodForecastingMVP
   ```

3. Installer les d√©pendances Python :
   ```cmd
   pip install --upgrade pip
   pip install -r requirements.txt
   ```

4. Pr√©parer la base de donn√©es :
   ```cmd
   python src\main.py  # cr√©ation automatique de database/app.db
   ```

5. Installer et lancer le frontend en mode d√©veloppement :
   ```cmd
   cd src\static
   npm install
   npm run dev
   ```

6. Lancer le backend :
   ```cmd
   conda activate FloodForecastingMVP
   python src\main.py
   ```

7. Ouvrir l'application √† : http://localhost:5173 (frontend) et http://localhost:5002 (API)

## Production (Build + Serve)

1. G√©n√©rer le build React :
   ```cmd
   cd src\static
   npm run build
   ```

2. Configurer Flask pour servir le dossier `dist/` (voir commentaires dans `src/main.py`).
3. Lancer le serveur Flask :
   ```cmd
   python src\main.py
   ```
4. Acc√©der √† l'interface sur http://localhost:5002

## Endpoints API

- GET `/api/flood/sites` : liste des sites hydrom√©triques
- GET `/api/flood/real-time-data/<code_site>` : observations en temps r√©el
- GET `/api/flood/historical-data/<code_site>` : donn√©es historiques 30 jours
- GET `/api/flood/forecast/<code_site>?algorithm=<key>` : pr√©visions 24 h

## üìÑ Licence

Ce projet est sous licence MIT. Voir `LICENSE` pour plus de d√©tails.
